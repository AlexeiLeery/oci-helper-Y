"use strict";(self["webpackChunkoci_help_web"]=self["webpackChunkoci_help_web"]||[]).push([[236],{9236:function(e,a,t){t.r(a),t.d(a,{default:function(){return d}});var n=t(6768),s=t(4232);const l={style:{"margin-left":"20px"}};function o(e,a,t,o,c,r){const u=(0,n.g2)("el-button"),i=(0,n.g2)("el-text"),m=(0,n.g2)("el-divider"),d=(0,n.g2)("el-input-number"),f=(0,n.g2)("el-form-item"),h=(0,n.g2)("el-radio"),k=(0,n.g2)("el-radio-group"),b=(0,n.g2)("el-input"),p=(0,n.g2)("el-form");return(0,n.uX)(),(0,n.CE)(n.FK,null,[(0,n.bF)(u,{onClick:r.goBack},{default:(0,n.k6)((()=>a[8]||(a[8]=[(0,n.eW)("返回配置页面")]))),_:1},8,["onClick"]),(0,n.Lk)("span",l,[(0,n.bF)(i,{type:"primary"},{default:(0,n.k6)((()=>[(0,n.eW)("配置："+(0,s.v_)(this.usernameList)+" 批量新增开机任务",1)])),_:1})]),(0,n.bF)(m),(0,n.bF)(p,{model:c.createInstanceBatchParams.instanceInfo,"label-width":"auto",style:{"max-width":"600px"}},{default:(0,n.k6)((()=>[(0,n.bF)(f,{label:"开机数量："},{default:(0,n.k6)((()=>[(0,n.bF)(d,{modelValue:c.createInstanceBatchParams.instanceInfo.createNumbers,"onUpdate:modelValue":a[0]||(a[0]=e=>c.createInstanceBatchParams.instanceInfo.createNumbers=e),min:1,max:99999},{suffix:(0,n.k6)((()=>a[9]||(a[9]=[(0,n.Lk)("span",null,"台",-1)]))),_:1},8,["modelValue"])])),_:1}),(0,n.bF)(f,{label:"时间间隔："},{default:(0,n.k6)((()=>[(0,n.bF)(d,{modelValue:c.createInstanceBatchParams.instanceInfo.interval,"onUpdate:modelValue":a[1]||(a[1]=e=>c.createInstanceBatchParams.instanceInfo.interval=e),min:1,max:99999},{suffix:(0,n.k6)((()=>a[10]||(a[10]=[(0,n.Lk)("span",null,"秒",-1)]))),_:1},8,["modelValue"])])),_:1}),(0,n.bF)(f,{label:"CPU："},{default:(0,n.k6)((()=>[(0,n.bF)(d,{modelValue:c.createInstanceBatchParams.instanceInfo.ocpus,"onUpdate:modelValue":a[2]||(a[2]=e=>c.createInstanceBatchParams.instanceInfo.ocpus=e),min:1,max:99999},{suffix:(0,n.k6)((()=>a[11]||(a[11]=[(0,n.Lk)("span",null,"核",-1)]))),_:1},8,["modelValue"])])),_:1}),(0,n.bF)(f,{label:"内存："},{default:(0,n.k6)((()=>[(0,n.bF)(d,{modelValue:c.createInstanceBatchParams.instanceInfo.memory,"onUpdate:modelValue":a[3]||(a[3]=e=>c.createInstanceBatchParams.instanceInfo.memory=e),min:1,max:99999},{suffix:(0,n.k6)((()=>a[12]||(a[12]=[(0,n.Lk)("span",null,"GB",-1)]))),_:1},8,["modelValue"])])),_:1}),(0,n.bF)(f,{label:"磁盘空间："},{default:(0,n.k6)((()=>[(0,n.bF)(d,{modelValue:c.createInstanceBatchParams.instanceInfo.disk,"onUpdate:modelValue":a[4]||(a[4]=e=>c.createInstanceBatchParams.instanceInfo.disk=e),min:50,max:99999},{suffix:(0,n.k6)((()=>a[13]||(a[13]=[(0,n.Lk)("span",null,"GB",-1)]))),_:1},8,["modelValue"])])),_:1}),(0,n.bF)(f,{label:"系统架构："},{default:(0,n.k6)((()=>[(0,n.bF)(k,{modelValue:c.createInstanceBatchParams.instanceInfo.architecture,"onUpdate:modelValue":a[5]||(a[5]=e=>c.createInstanceBatchParams.instanceInfo.architecture=e)},{default:(0,n.k6)((()=>[(0,n.bF)(h,{value:"ARM"},{default:(0,n.k6)((()=>a[14]||(a[14]=[(0,n.eW)("ARM")]))),_:1}),(0,n.bF)(h,{value:"AMD"},{default:(0,n.k6)((()=>a[15]||(a[15]=[(0,n.eW)("AMD")]))),_:1})])),_:1},8,["modelValue"])])),_:1}),(0,n.bF)(f,{label:"系统类型："},{default:(0,n.k6)((()=>[(0,n.bF)(k,{modelValue:c.createInstanceBatchParams.instanceInfo.operationSystem,"onUpdate:modelValue":a[6]||(a[6]=e=>c.createInstanceBatchParams.instanceInfo.operationSystem=e)},{default:(0,n.k6)((()=>[(0,n.bF)(h,{value:"Canonical Ubuntu"},{default:(0,n.k6)((()=>a[16]||(a[16]=[(0,n.eW)("Canonical Ubuntu")]))),_:1}),(0,n.bF)(h,{value:"Oracle Autonomous Linux"},{default:(0,n.k6)((()=>a[17]||(a[17]=[(0,n.eW)("Oracle Autonomous Linux")]))),_:1})])),_:1},8,["modelValue"])])),_:1}),(0,n.bF)(f,{label:"root密码：",style:{width:"70%"}},{default:(0,n.k6)((()=>[(0,n.bF)(b,{placeholder:"请输入root密码",modelValue:c.createInstanceBatchParams.instanceInfo.rootPassword,"onUpdate:modelValue":a[7]||(a[7]=e=>c.createInstanceBatchParams.instanceInfo.rootPassword=e),clearable:""},{append:(0,n.k6)((()=>[(0,n.bF)(u,{type:"text",onClick:r.generatePassword,icon:e.Search},{default:(0,n.k6)((()=>a[18]||(a[18]=[(0,n.eW)("随机生成")]))),_:1},8,["onClick","icon"])])),_:1},8,["modelValue"])])),_:1}),(0,n.bF)(f,null,{default:(0,n.k6)((()=>[(0,n.bF)(u,{type:"primary",onClick:r.onSubmit,loading:c.loading},{default:(0,n.k6)((()=>a[19]||(a[19]=[(0,n.eW)("开机")]))),_:1},8,["onClick","loading"]),(0,n.bF)(u,{onClick:r.goBack},{default:(0,n.k6)((()=>a[20]||(a[20]=[(0,n.eW)("取消")]))),_:1},8,["onClick"])])),_:1})])),_:1},8,["model"])],64)}t(1454);var c=t(47),r=t(1219),u={components:{ElButton:c.S2},data(){return{loading:!1,users:[],usernameList:[],createInstanceBatchParams:{userIds:[],instanceInfo:{ocpus:1,memory:1,disk:50,architecture:"ARM",interval:60,createNumbers:1,operationSystem:"Canonical Ubuntu",rootPassword:""}}}},mounted(){this.users=JSON.parse(this.$route.query.row||"{}"),this.usernameList=this.users.map((e=>e.username)),this.createInstanceBatchParams.userIds=this.users.map((e=>e.id))},methods:{goBack(){this.$router.back()},generatePassword(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";let a="";for(let t=0;t<8;t++)a+=e.charAt(Math.floor(Math.random()*e.length));this.createInstanceBatchParams.instanceInfo.rootPassword=a},onSubmit(){this.loading=!0,this.$axios.post("/oci/createInstanceBatch",{...this.createInstanceBatchParams}).then((e=>{e.data.success?(this.loading=!1,(0,r.nk)({message:e.data.msg,type:"success",duration:2e3}),this.goBack()):(0,r.nk)({message:e.data.msg,type:"error",duration:2e3})})).catch((e=>{console.error("Error:",e)}))}}},i=t(1241);const m=(0,i.A)(u,[["render",o]]);var d=m}}]);
//# sourceMappingURL=236.073d1935.js.map