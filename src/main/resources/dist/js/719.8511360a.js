"use strict";(self["webpackChunkoci_help_web"]=self["webpackChunkoci_help_web"]||[]).push([[719],{5719:function(e,a,s){s.r(a),s.d(a,{default:function(){return g}});var t=s(6768);function l(e,a,s,l,d,o){const n=(0,t.g2)("el-text"),r=(0,t.g2)("el-input"),g=(0,t.g2)("el-form-item"),i=(0,t.g2)("el-form"),c=(0,t.g2)("el-button"),u=(0,t.g2)("el-aside"),m=(0,t.g2)("el-main"),p=(0,t.g2)("el-container");return(0,t.uX)(),(0,t.Wv)(p,{style:{height:"100vh"}},{default:(0,t.k6)((()=>[(0,t.bF)(u,{width:"700px",class:"left-panel"},{default:(0,t.k6)((()=>[(0,t.bF)(i,null,{default:(0,t.k6)((()=>[(0,t.bF)(n,{class:"mx-1",size:"large"},{default:(0,t.k6)((()=>a[5]||(a[5]=[(0,t.eW)("telegram机器人Token")]))),_:1}),(0,t.bF)(g,{style:{"margin-top":"10px"}},{default:(0,t.k6)((()=>[(0,t.bF)(r,{modelValue:d.UpdateSysCfgParams.tgBotToken,"onUpdate:modelValue":a[0]||(a[0]=e=>d.UpdateSysCfgParams.tgBotToken=e),placeholder:"12345678:AAGC8NFfxxxx",clearable:""},null,8,["modelValue"])])),_:1}),(0,t.bF)(n,{class:"mx-1",size:"large"},{default:(0,t.k6)((()=>a[6]||(a[6]=[(0,t.eW)("telegram个人ID")]))),_:1}),(0,t.bF)(g,{style:{"margin-top":"10px"}},{default:(0,t.k6)((()=>[(0,t.bF)(r,{modelValue:d.UpdateSysCfgParams.tgChatId,"onUpdate:modelValue":a[1]||(a[1]=e=>d.UpdateSysCfgParams.tgChatId=e),placeholder:"61945xxxxx",clearable:""},null,8,["modelValue"])])),_:1}),(0,t.bF)(n,{class:"mx-1",size:"large"},{default:(0,t.k6)((()=>a[7]||(a[7]=[(0,t.eW)("钉钉access_token")]))),_:1}),(0,t.bF)(g,{style:{"margin-top":"10px"}},{default:(0,t.k6)((()=>[(0,t.bF)(r,{modelValue:d.UpdateSysCfgParams.dingToken,"onUpdate:modelValue":a[2]||(a[2]=e=>d.UpdateSysCfgParams.dingToken=e),placeholder:"0b0bf9f89xxxx",clearable:""},null,8,["modelValue"])])),_:1}),(0,t.bF)(n,{class:"mx-1",size:"large"},{default:(0,t.k6)((()=>a[8]||(a[8]=[(0,t.eW)("钉钉secret")]))),_:1}),(0,t.bF)(g,{style:{"margin-top":"10px"}},{default:(0,t.k6)((()=>[(0,t.bF)(r,{modelValue:d.UpdateSysCfgParams.dingSecret,"onUpdate:modelValue":a[3]||(a[3]=e=>d.UpdateSysCfgParams.dingSecret=e),placeholder:"SEC1ebxxxx",clearable:""},null,8,["modelValue"])])),_:1})])),_:1}),(0,t.bF)(c,{type:"primary",onClick:o.updateSysCfg,loading:d.cfgLoading},{default:(0,t.k6)((()=>a[9]||(a[9]=[(0,t.eW)("更新配置")]))),_:1},8,["onClick","loading"])])),_:1}),(0,t.bF)(m,{class:"right-panel"},{default:(0,t.k6)((()=>[(0,t.bF)(r,{type:"textarea",modelValue:d.message,"onUpdate:modelValue":a[4]||(a[4]=e=>d.message=e),placeholder:"输入测试文本",rows:20},null,8,["modelValue"]),(0,t.bF)(c,{type:"primary",onClick:o.sendMsg,loading:d.sendLoading},{default:(0,t.k6)((()=>a[10]||(a[10]=[(0,t.eW)("测试消息发送")]))),_:1},8,["onClick","loading"])])),_:1})])),_:1})}var d=s(1219),o={data(){return{cfgLoading:!1,sendLoading:!1,UpdateSysCfgParams:{dingToken:"",dingSecret:"",tgChatId:"",tgBotToken:""},message:""}},mounted(){this.getSysCfg()},methods:{async getSysCfg(){await this.$axios.post("/sys/getSysCfg",{}).then((e=>{e.data.success?this.UpdateSysCfgParams=e.data.data:(0,d.nk)({message:e.data.msg,type:"error",duration:2e3})})).catch((e=>{console.error("Error:",e)}))},async updateSysCfg(){this.cfgLoading=!0,await this.$axios.post("/sys/updateSysCfg",{...this.UpdateSysCfgParams}).then((e=>{e.data.success?((0,d.nk)({message:e.data.msg,type:"success",duration:2e3}),this.cfgLoading=!1,this.getSysCfg()):(0,d.nk)({message:e.data.msg,type:"error",duration:2e3})})).catch((e=>{console.error("Error:",e)}))},async sendMsg(){this.sendLoading=!0,await this.$axios.post("/sys/sendMsg",{message:this.message}).then((e=>{e.data.success?((0,d.nk)({message:e.data.msg,type:"success",duration:2e3}),this.sendLoading=!1):(0,d.nk)({message:e.data.msg,type:"error",duration:2e3})})).catch((e=>{console.error("Error:",e)}))}}},n=s(1241);const r=(0,n.A)(o,[["render",l],["__scopeId","data-v-1833e412"]]);var g=r}}]);
//# sourceMappingURL=719.8511360a.js.map