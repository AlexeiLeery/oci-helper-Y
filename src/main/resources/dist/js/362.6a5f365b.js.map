{"version":3,"file":"js/362.6a5f365b.js","mappings":"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","sources":["webpack://oci-help-web/./src/components/login/UserLogin.vue","webpack://oci-help-web/./src/components/login/UserLogin.vue?3053"],"sourcesContent":["<template>\r\n  <div class=\"login-container\">\r\n    <el-card class=\"login-card\">\r\n      <h2 class=\"login-title\">oci-helper Login</h2>\r\n      <el-form @submit.prevent=\"login\" @keydown.enter.prevent=\"login\">\r\n        <el-form-item label=\"\" label-width=\"0%\">\r\n          <el-input v-model=\"loginParams.account\" placeholder=\"请输入账号\" clearable/>\r\n        </el-form-item>\r\n        <el-form-item label=\"\" label-width=\"0%\">\r\n          <el-input show-password v-model=\"loginParams.password\" placeholder=\"请输入密码\" type=\"password\" clearable/>\r\n        </el-form-item>\r\n        <el-form-item v-if=\"enableMfa\">\r\n          <el-input show-password v-model=\"loginParams.mfaCode\" placeholder=\"请输入MFA验证码\" clearable/>\r\n        </el-form-item>\r\n        <el-form-item style=\"text-align: center;\" class=\"login-button-container\">\r\n            <el-button type=\"primary\" @click=\"login\" :loading=\"loading\" class=\"login-button\">Login</el-button>\r\n        </el-form-item>\r\n      </el-form>\r\n    </el-card>\r\n    <!-- Footer 放在登录框下面 -->\r\n    <el-footer class=\"login-footer\">\r\n      <el-link href=\"https://github.com/Yohann0617\" target=\"_blank\">© Yohann All Rights Reserved</el-link>\r\n    </el-footer>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport {ElMessage} from \"element-plus\";\r\n\r\nexport default {\r\n  data() {\r\n    return {\r\n      loginParams: {\r\n        account: '',\r\n        password: '',\r\n        mfaCode: null\r\n      },\r\n      loading: false,\r\n      enableMfa: false\r\n    };\r\n  },\r\n  mounted() {\r\n    this.getEnableMfa()\r\n  },\r\n  methods: {\r\n    getEnableMfa() {\r\n      this.$axios.post('/sys/getEnableMfa', {})\r\n          .then(response => {\r\n            if (response.data.success) {\r\n              // ElMessage({\r\n              //   message: response.data.msg,\r\n              //   type: 'success',\r\n              //   duration: 2000 // 设置提示显示时间，单位是毫秒\r\n              // });\r\n              this.enableMfa = response.data.data\r\n            } else {\r\n              ElMessage({\r\n                message: response.data.msg,\r\n                type: 'error',\r\n                duration: 2000 // 设置提示显示时间，单位是毫秒\r\n              });\r\n            }\r\n          })\r\n          .catch(error => {\r\n            console.error('Error:', error)\r\n          })\r\n    },\r\n    async login() {\r\n      if (this.loginParams.account === 'yohann' && this.loginParams.password === 'yohann') {\r\n        ElMessage({\r\n          message: '该账号为默认账号，请修改并重启后再尝试登录',\r\n          type: 'error',\r\n          duration: 2000\r\n        });\r\n        return;\r\n      }\r\n\r\n      this.loading = true;\r\n      try {\r\n        const response = await this.$axios.post('/sys/login', {...this.loginParams});\r\n        if (response.data.success) {\r\n          ElMessage({\r\n            message: response.data.msg,\r\n            type: 'success',\r\n            duration: 2000 // 设置提示显示时间，单位是毫秒\r\n          });\r\n          sessionStorage.setItem('token', response.data.data);\r\n          setTimeout(() => {\r\n            this.$router.push('/dashboard');\r\n          }, 2000);\r\n        } else {\r\n          ElMessage({\r\n            message: response.data.msg,\r\n            type: 'error',\r\n            duration: 2000 // 设置提示显示时间，单位是毫秒\r\n          });\r\n          this.loading = false;\r\n        }\r\n      } catch (error) {\r\n        console.error('Error:', error);\r\n        ElMessage({\r\n          message: '登录失败，请重试',\r\n          type: 'error',\r\n          duration: 2000\r\n        });\r\n        this.loading = false;\r\n      }\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.login-container {\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  justify-content: center;\r\n  height: 100vh;\r\n  background-color: #f0f2f5;\r\n}\r\n\r\n.login-card {\r\n  width: 400px;\r\n  padding: 20px;\r\n  margin-bottom: 20px;\r\n  border-radius: 10px;\r\n  box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);\r\n}\r\n\r\n.login-title {\r\n  text-align: center;\r\n  margin-bottom: 40px;\r\n  color: #304156;\r\n}\r\n\r\n.login-button-container {\r\n  text-align: center;\r\n  margin-left: -2%;\r\n}\r\n\r\n.login-button {\r\n  width: 370px; /* 设置按钮宽度 */\r\n  margin-top: 20px;\r\n  color: white;\r\n  font-weight: bold;\r\n  border-radius: 25px;\r\n}\r\n\r\n.login-footer {\r\n  text-align: center;\r\n  font-size: 14px;\r\n  margin-top: 20px;\r\n  color: #304156;\r\n}\r\n</style>\r\n","import { render } from \"./UserLogin.vue?vue&type=template&id=035dd8f4&scoped=true\"\nimport script from \"./UserLogin.vue?vue&type=script&lang=js\"\nexport * from \"./UserLogin.vue?vue&type=script&lang=js\"\n\nimport \"./UserLogin.vue?vue&type=style&index=0&id=035dd8f4&scoped=true&lang=css\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-035dd8f4\"]])\n\nexport default __exports__"],"names":["class","_createElementBlock","_hoisted_1","_createVNode","_component_el_card","default","_withCtx","_createElementVNode","_component_el_form","onSubmit","_withModifiers","$options","login","onKeydown","_withKeys","_component_el_form_item","label","_component_el_input","modelValue","$data","loginParams","account","_cache","$event","placeholder","clearable","_","password","type","enableMfa","_createBlock","key","mfaCode","_createCommentVNode","style","_component_el_button","onClick","loading","_createTextVNode","_component_el_footer","_component_el_link","href","target","data","mounted","this","getEnableMfa","methods","$axios","post","then","response","success","ElMessage","message","msg","duration","catch","error","console","sessionStorage","setItem","setTimeout","$router","push","__exports__","render"],"sourceRoot":""}